<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/servicetemplate.xhtml">

	<ui:define name="content">
		<h:form id="form">
			<p:messages showDetail="true" closable="true" autoUpdate="true" />
			<div class="ui-g">
				<div class="ui-g-6">
					<div class="card">
						<p:breadCrumb>
							<p:menuitem outcome="ServiceListForm" />
							<p:menuitem value="Car wash Service" />
						</p:breadCrumb>

						<p:dataTable var="iki" value="#{listController.carwashList()}"
							id="tab" style="margin-top:20px;" paginator="true" rows="5">

							<p:column headerText="No" style="width:30px;">
		      #{i=i+1}
		      </p:column>
							<p:column headerText="Car Category">
								<center>#{iki.carCategory}</center>
							</p:column>
							<p:column headerText="Price">
								<center>#{iki.prices} Rwf</center>
							</p:column>
							<p:column style="width:80px;" headerText="Option">
								<center>
									<p:commandButton icon="fa fa-edit" oncomplete="PF('updateCarwash').show()" action="#{updateController.carwashDialog(iki)}"
									update="@widgetVar(updateCarwash)"/>
								</center>
							</p:column>
						</p:dataTable>
					</div>


				</div>
				<div class="ui-g-6">
					<div class="card">
						<p:breadCrumb>
							<p:menuitem outcome="ServiceListForm" />
							<p:menuitem value="Parking Service" />
						</p:breadCrumb>
						<p:dataTable var="iki"
							value="#{listController.parkingServiceList()}" id="tab1"
							style="margin-top:20px;" paginator="true" rows="5">

							<p:column headerText="No" style="width:30px;">
		      #{i=i+1}
		      </p:column>
							<p:column headerText="Time Duration">
								<center>#{iki.timeDuration} Minutes</center>
							</p:column>
							<p:column headerText="Price">
								<center>#{iki.price} Rwf</center>
							</p:column>
							<p:column style="width:80px;" headerText="Option">
								<center>
									<p:commandButton icon="fa fa-edit" oncomplete="PF('updateParking').show()" action="#{updateController.parkingDialog(iki)}"
									update="@widgetVar(updateParking)" />
								</center>
							</p:column>
						</p:dataTable>
					</div>
				</div>
			</div>
		</h:form>
		<h:form>
		<p:dialog showEffect="clip" hideEffect="clip" closable="true"
				modal="true" widgetVar="updateCarwash" width="400" header="Update Car Wash Price">
				<p:fieldset legend="Car wash price">
					<p:inputText style="width:98%;" value="#{updateController.carwash.prices}"/>
				</p:fieldset>
				<f:facet name="footer">
					<p:commandButton value="Update" icon="fa fa-edit" update="form"
						oncomplete="PF('updateCarwash').hide()" actionListener="#{updateController.updateCarwash()}"/>
				</f:facet>
			</p:dialog>
			
		</h:form>
		<h:form>
		<p:dialog showEffect="clip" hideEffect="clip" closable="true"
				modal="true" widgetVar="updateParking" width="400" header="Update Parking info">
				<p:fieldset legend="Parking price">
					<p:inputText style="width:98%;" value="#{updateController.parking.price}"/>
				</p:fieldset>
				<p:fieldset legend="Time duration per minutes">
					<p:inputText style="width:98%;" value="#{updateController.parking.timeDuration}"/>
				</p:fieldset>
				<f:facet name="footer">
					<p:commandButton value="Update" icon="fa fa-edit" update="form"
						oncomplete="PF('updateParking').hide()" actionListener="#{updateController.updateParking()}"/>
				</f:facet>
			</p:dialog>
			
		</h:form>
	</ui:define>

</ui:composition>